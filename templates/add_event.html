{% extends "base.html" %}

{% block title %}Add New Event - Social Tracker{% endblock %}

{% block head %}
    <link rel="stylesheet" href="{{ url_for('static', filename='form_styles.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='add_event.css') }}">
{% endblock %}

{% block header_nav %}{% endblock %}

{% block content %}
<div class="form-page-container">
    <div class="form-header">
        <h1><i class="fas fa-plus-circle"></i> Add New Event</h1>
        <p>Plan your next meeting, trip, or call.</p>
    </div>

    <div class="form-container">
        <form method="POST" action="{{ url_for('add_event') }}">
            <div class="form-section">
                <h2 class="section-title">Event Details</h2>
                <div class="form-group">
                    <label for="title">Event Title *</label>
                    <input type="text" id="title" name="title" required placeholder="e.g., Trip to Slovakia">
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="start_date">Start Date</label>
                        <input type="date" id="start_date" name="start_date">
                    </div>
                    <div class="form-group">
                        <label for="end_date">End Date</label>
                        <input type="date" id="end_date" name="end_date">
                    </div>
                </div>
                <div class="form-group">
                    <label for="priority">Priority</label>
                    <select id="priority" name="priority">
                        <option value="Very High">Very High</option>
                        <option value="High">High</option>
                        <option value="Medium" selected>Medium</option>
                        <option value="Low">Low</option>
                        <option value="Very Low">Very Low</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="details">Additional Details</label>
                    <textarea id="details" name="details" rows="5" placeholder="Describe the event, goals, locations, etc."></textarea>
                </div>
            </div>

            <div class="form-section">
                <h2 class="section-title">Participants</h2>
                <div class="checklist-container">
                    {% for rel in relationships %}
                    <div class="checklist-item">
                        <input type="checkbox" name="participant_ids" value="{{ rel.id }}" id="rel-{{ rel.id }}">
                        <label for="rel-{{ rel.id }}">{{ rel.name }}</label>
                    </div>
                    {% else %}
                    <p>No relationships found. Add some first!</p>
                    {% endfor %}
                </div>
            </div>

            <div class="submit-section">
                <button type="submit" class="btn-primary">Save Event</button>
                <a href="{{ url_for('view_events') }}" class="btn-secondary">Cancel</a>
            </div>
        </form>
    </div>
</div>
{% endblock %}