{% extends "base.html" %}

{% block title %}Interaction Details - Social Tracker{% endblock %}

{% block head %}
    <link rel="stylesheet" href="{{ url_for('static', filename='interaction_detail.css') }}">
{% endblock %}

{% block header_nav %}
    <a href="{{ url_for('get_relationship', relationship_id=interaction.relationship_id) }}#interaction-history" class="nav-link">
        <i class="fas fa-arrow-left"></i> Back to Relationship
    </a>
{% endblock %}

{% block content %}
<div class="interaction-detail-page-container">
    <div class="page-header">
        <h1><i class="fas fa-comment-dots"></i> Interaction Details</h1>
        <p>For your relationship with <strong>{{ interaction.relationship.name }}</strong></p>
    </div>

    <div class="details-content-wrapper">
        <div class="interaction-card">
            <div class="interaction-header">
                <h2>{{ interaction.title }}</h2>
            </div>
            <div class="interaction-meta">
                <span><i class="fas fa-calendar-alt"></i> {{ interaction.date.strftime('%B %d, %Y at %I:%M %p') }} UTC</span>
                <span><i class="fas fa-tag"></i> {{ interaction.type.replace('-', ' ')|title }}</span>
                {% if interaction.platform %}
                <span><i class="fas fa-map-marker-alt"></i> {{ interaction.platform }}</span>
                {% endif %}
            </div>
            <div class="interaction-body">
                <h3>Details</h3>
                <div class="details-content">
                    {{ interaction.details|safe if interaction.details else 'No details were provided for this interaction.' }}
                </div>
            </div>
        </div>

        <div class="actions">
            <a href="{{ url_for('edit_interaction', interaction_id=interaction.id) }}" class="btn btn-edit">
                <i class="fas fa-pencil-alt"></i> Edit Interaction
            </a>
            <form action="{{ url_for('delete_interaction', interaction_id=interaction.id) }}" method="POST" onsubmit="return confirm('Are you sure you want to delete this interaction?');" style="display: inline;">
                <button type="submit" class="btn btn-delete">
                    <i class="fas fa-trash"></i> Delete
                </button>
            </form>
        </div>
    </div>
</div>
{% endblock %}